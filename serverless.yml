service: serverless-test
frameworkVersion: "3"

provider:
  name: aws
  runtime: nodejs16.x
  iam:
    role:
      statements:
        - Effect: "Allow"
          Resource: "*"
          Action: "lambda:InvokeFunction"
        - Effect: "Allow"
          Action: "dynamodb:*"
          Resource: "*"

functions:
  handlerGet:
    handler: index.handlerGet
  handlerPut:
    handler: index.handlerPut
  handlerUpdate:
    handler: index.handlerUpdate
    events:
      -stream:
        type: dynamodb
        arn: arn:aws:dynamodb:us-east-1:746204573428:table/UserID/stream/2023-03-28T03:58:51.308
        batchSize: 10
        startingPosition: Latest
